<p style="color: green"><%= notice %></p>


<div class="row">
  <div class="col-md-12">

    <%= react_component(
      'GraveEditor', {
        image: "data:image/jpeg;base64,#{Base64.encode64 @grave.figure.page.image.data}",
        arrowAngle: @grave&.arrow&.angle,
        id: @grave.id,
        grave: @grave.as_json,
        sites: Site.order(:name).all,
        figures: @grave.figures.as_json(methods: [:width, :height])
      }
    ) %>
  </div>

  <div class="col-md-6">
    <table class="table">
      <thead>
      </thead>

      <tbody>
        <tr>
          <td>Arrow angle</td>
          <td><%= @grave&.arrow&.angle %></td>
        </tr>

        <tr>
          <td>Arc Length</td>
          <td><%= @grave.arc_length %></td>
        </tr>
        <tr>
          <td>Area</td>
          <td><%= @grave.area %></td>
        </tr>

        <tr>
          <td>Spine Angle</td>
          <td><%= @grave.spines.first&.angle %></td>
        </tr>

        <tr>
          <td>Cross Section Depth</td>
          <td><%= @grave.cross_section_arrow&.length.abs %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
